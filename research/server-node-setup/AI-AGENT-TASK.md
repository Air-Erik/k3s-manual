# –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s Server Node

> **–≠—Ç–∞–ø:** 1.1 - Server Node Setup
> **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** AI-–∞–≥–µ–Ω—Ç + –û–ø–µ—Ä–∞—Ç–æ—Ä
> **–°—Ç–∞—Ç—É—Å:** üöÄ –í —Ä–∞–±–æ—Ç–µ
> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-24

---

## üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç

–¢—ã AI-–∞–≥–µ–Ω—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º **k3s –Ω–∞ VMware vSphere —Å NSX-T**.

### –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:
- ‚úÖ **VM Template:** `k3s-ubuntu2404-minimal-template` —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ **Cloud-init –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** –ì–æ—Ç–æ–≤—ã –¥–ª—è –≤—Å–µ—Ö –Ω–æ–¥
- ‚úÖ **NSX-T –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** Segment –∏ —Å–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ **IP-–ø–ª–∞–Ω:** 10.246.10.50 (Server), 10.246.10.51-52 (Agents)

### –ß—Ç–æ –¥–µ–ª–∞–µ–º —Å–µ–π—á–∞—Å:
**–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–≤—É—é k3s Server –Ω–æ–¥—É** ‚Äî —Å–µ—Ä–¥—Ü–µ –∫–ª–∞—Å—Ç–µ—Ä–∞!

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **k3s –≤ —Ä–µ–∂–∏–º–µ server** –Ω–∞ –Ω–æ–¥–µ `10.246.10.50` –∏ –ø–æ–ª—É—á–∏—Ç—å:
1. –†–∞–±–æ—Ç–∞—é—â–∏–π Kubernetes API Server
2. kubeconfig –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
3. node-token –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è Agent –Ω–æ–¥

---

## üí° –ß—Ç–æ —Ç–∞–∫–æ–µ k3s Server Node?

**k3s Server Node** –≤–∫–ª—é—á–∞–µ—Ç:
- **Control Plane:** API Server, Controller Manager, Scheduler
- **etcd:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞
- **kubelet:** –ú–æ–∂–µ—Ç —Ç–∞–∫–∂–µ –∑–∞–ø—É—Å–∫–∞—Ç—å workload pods (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** Traefik, ServiceLB, CoreDNS, Flannel

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ = –û–î–ù–ê –∫–æ–º–∞–Ω–¥–∞:**
```bash
curl -sfL https://get.k3s.io | sh -s - server [–ø–∞—Ä–∞–º–µ—Ç—Ä—ã]
```

–≠—Ç–æ –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–æ—â–µ —á–µ–º `kubeadm` –∏–∑ "–ø–æ–ª–Ω–æ–≥–æ" Kubernetes!

---

## üîß –¢–≤–æ—è —Ä–æ–ª—å –∫–∞–∫ AI-–∞–≥–µ–Ω—Ç–∞

–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ k3s. –¢–≤–æ—è –∑–∞–¥–∞—á–∞:

1. **–°–æ–∑–¥–∞—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
2. **–ù–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏** k3s Server —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—ã** –ø–æ–ª—É—á–µ–Ω–∏—è kubeconfig –∏ node-token
4. **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
5. **–°–æ–∑–¥–∞—Ç—å troubleshooting guide** –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

**–í–∞–∂–Ω–æ:** –í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π!

---

## üìä –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### Server Node Specification:
```yaml
Hostname: k3s-server-01
IP Address: 10.246.10.50
Gateway: 10.246.10.1
DNS: 172.17.10.3, 8.8.8.8
Network Interface: ens192
vCPU: 2
RAM: 4 GB
Disk: 40 GB

SSH User: k8s-admin
SSH Auth: password (admin) –∏–ª–∏ SSH key
```

### k3s Installation Parameters:
```yaml
Installation Method: curl https://get.k3s.io
k3s Version: latest stable
Node IP: 10.246.10.50
Flannel Interface: ens192
```

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã k3s (–æ—Å—Ç–∞–≤–ª—è–µ–º):
- ‚úÖ **Flannel CNI** ‚Äî —Å–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ pods
- ‚úÖ **Traefik Ingress** ‚Äî –≤—Ö–æ–¥—è—â–∏–π HTTP/HTTPS —Ç—Ä–∞—Ñ–∏–∫
- ‚úÖ **ServiceLB** ‚Äî LoadBalancer –¥–ª—è Services
- ‚úÖ **Local-Path Storage** ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- ‚úÖ **CoreDNS** ‚Äî DNS –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞

**–ù–µ –æ—Ç–∫–ª—é—á–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã!** –û–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è dev-–∫–ª–∞—Å—Ç–µ—Ä–∞.

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–¥–∞–Ω–∏—è

–°–æ–∑–¥–∞–π —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ**:

---

### –≠—Ç–∞–ø 1: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–°–æ–∑–¥–∞–π:** `research/server-node-setup/01-installation-process.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –û–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ k3s Server
- –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏ —Å–µ—Ä–≤–∏—Å—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ Server –Ω–æ–¥–µ
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å "–ø–æ–ª–Ω—ã–º" Kubernetes (kubeadm)

**–¶–µ–ª—å:** –û–ø–µ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å —á—Ç–æ –∏–º–µ–Ω–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

---

### –≠—Ç–∞–ø 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ VM –¥–ª—è Server

**–°–æ–∑–¥–∞–π:** `research/server-node-setup/02-clone-vm-for-server.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è VM –∏–∑ Template –≤ vSphere UI
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ cloud-init –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Server –Ω–æ–¥—ã
- –ì–¥–µ –≤–∑—è—Ç—å: `manifests/cloud-init/server-node-userdata.yaml` –∏ `server-node-metadata.yaml`
- –ü–µ—Ä–≤—ã–π boot –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ cloud-init
- SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –Ω–æ–≤–æ–π VM

**–í–∞–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å vSphere vApp Properties –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ cloud-init
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ISO –æ–±—Ä–∞–∑ —Å cloud-init –∫–æ–Ω—Ñ–∏–≥–æ–º
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VMware guestinfo –¥–ª—è cloud-init

**–§–æ—Ä–º–∞—Ç:** –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

---

### –≠—Ç–∞–ø 3: –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ k3s Server

**–°–æ–∑–¥–∞–π:** `scripts/install-k3s-server.sh`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ prerequisites (network, DNS, disk space)
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s —á–µ—Ä–µ–∑ curl
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ kubeconfig
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ node-token
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Idempotent (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (set -e -o pipefail)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```bash
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ k3s Server Node
# –í–µ—Ä—Å–∏—è: 1.0
# –î–∞—Ç–∞: 2025-10-24

set -e -o pipefail

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo -e "${GREEN}=== –£—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s Server Node ===${NC}"

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ prerequisites
echo -e "${YELLOW}[1/6] –ü—Ä–æ–≤–µ—Ä–∫–∞ prerequisites...${NC}"
# ...

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s
echo -e "${YELLOW}[2/6] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s server...${NC}"
curl -sfL https://get.k3s.io | sh -s - server \
  --write-kubeconfig-mode 644 \
  --node-ip 10.246.10.50 \
  --flannel-iface ens192 \
  --node-name k3s-server-01

# 3. –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞
echo -e "${YELLOW}[3/6] –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ k3s...${NC}"
# ...

# 4. –ü–æ–ª—É—á–µ–Ω–∏–µ kubeconfig
echo -e "${YELLOW}[4/6] –ü–æ–ª—É—á–µ–Ω–∏–µ kubeconfig...${NC}"
# ...

# 5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ node-token
echo -e "${YELLOW}[5/6] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ node-token...${NC}"
# ...

# 6. –í–∞–ª–∏–¥–∞—Ü–∏—è
echo -e "${YELLOW}[6/6] –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏...${NC}"
# ...

echo -e "${GREEN}‚úÖ k3s Server —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!${NC}"
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ k3s:**
```bash
--write-kubeconfig-mode 644      # –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ kubeconfig (—á—Ç–æ–±—ã —á–∏—Ç–∞—Ç—å –±–µ–∑ sudo)
--node-ip 10.246.10.50           # IP –∞–¥—Ä–µ—Å –Ω–æ–¥—ã
--flannel-iface ens192           # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Flannel CNI
--node-name k3s-server-01        # –ò–º—è –Ω–æ–¥—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
--cluster-init                   # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–ª—è –±—É–¥—É—â–µ–≥–æ HA (–µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ–º 3 server)
```

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º (–¥–ª—è dev-–∫–ª–∞—Å—Ç–µ—Ä–∞):**
- `--disable traefik` ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Traefik
- `--disable servicelb` ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π ServiceLB
- `--flannel-backend=none` ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º Flannel

---

### –≠—Ç–∞–ø 4: –ü–æ–ª—É—á–µ–Ω–∏–µ credentials

**–°–æ–∑–¥–∞–π:** `research/server-node-setup/03-get-credentials.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**

#### 4.1. kubeconfig
```bash
# –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è
/etc/rancher/k3s/k3s.yaml

# –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å
sudo cat /etc/rancher/k3s/k3s.yaml

# –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
mkdir -p ~/.kube
sudo cp /etc/rancher/k3s/k3s.yaml ~/.kube/config
sudo chown $(id -u):$(id -g) ~/.kube/config

# –ò–ª–∏ –¥–ª—è kubectl –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ k3s.yaml
# –ó–∞–º–µ–Ω–∏—Ç—å server: https://127.0.0.1:6443 ‚Üí https://10.246.10.50:6443
```

#### 4.2. node-token
```bash
# –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è
/var/lib/rancher/k3s/server/node-token

# –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å
sudo cat /var/lib/rancher/k3s/server/node-token

# –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω
# –≠—Ç–æ—Ç token –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è Agent –Ω–æ–¥ (–≠—Ç–∞–ø 1.2)
```

#### 4.3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ
```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è credentials
mkdir -p ~/k3s-credentials

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å kubeconfig
sudo cp /etc/rancher/k3s/k3s.yaml ~/k3s-credentials/kubeconfig.yaml
sudo chown $(id -u):$(id -g) ~/k3s-credentials/kubeconfig.yaml

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å node-token
sudo cat /var/lib/rancher/k3s/server/node-token > ~/k3s-credentials/node-token.txt

echo "Credentials —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ ~/k3s-credentials/"
```

---

### –≠—Ç–∞–ø 5: –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–°–æ–∑–¥–∞–π:** `research/server-node-setup/04-validate-installation.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ k3s Server.

#### 5.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–∞
```bash
# –°—Ç–∞—Ç—É—Å k3s service
sudo systemctl status k3s

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: active (running)
```

#### 5.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ kubectl
```bash
# kubectl —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–∞–∫ symlink –∫ k3s
sudo k3s kubectl version

# –ò–ª–∏ –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ kubeconfig
kubectl version
```

#### 5.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–¥—ã
```bash
# –°–ø–∏—Å–æ–∫ –Ω–æ–¥ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 1 –Ω–æ–¥–∞: k3s-server-01)
kubectl get nodes

# –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
kubectl get nodes -o wide

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# NAME             STATUS   ROLES                  AGE   VERSION
# k3s-server-01    Ready    control-plane,master   1m    v1.30.x+k3s1
```

#### 5.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö pods
```bash
# –í—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ pods –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å Running
kubectl get pods -A

# –û–∂–∏–¥–∞–µ–º—ã–µ namespaces:
# - kube-system: coredns, traefik, metrics-server
# - kube-flannel: flannel daemonset (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```

#### 5.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ API Server
```bash
# –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API —á–µ—Ä–µ–∑ curl
curl -k https://10.246.10.50:6443/version

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –≤–µ—Ä—Å–∏–µ–π Kubernetes
```

#### 5.6. –ü—Ä–æ–≤–µ—Ä–∫–∞ Traefik Ingress
```bash
# Traefik pod –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Running
kubectl get pods -n kube-system | grep traefik

# Traefik service
kubectl get svc -n kube-system traefik
```

#### 5.7. –ü—Ä–æ–≤–µ—Ä–∫–∞ CoreDNS
```bash
# CoreDNS pod –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å Running
kubectl get pods -n kube-system | grep coredns

# –¢–µ—Å—Ç DNS —Ä–µ–∑–æ–ª—é—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞
kubectl run test-dns --image=busybox:1.28 --rm -it --restart=Never -- nslookup kubernetes.default
```

#### 5.8. –ü—Ä–æ–≤–µ—Ä–∫–∞ Flannel
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ flannel –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
ip addr show flannel.1

# –î–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å —Å IP –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ 10.42.x.x
```

#### 5.9. –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç
```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π deployment
kubectl create deployment nginx --image=nginx --replicas=1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ pod –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
kubectl get pods

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
kubectl logs deployment/nginx

# –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π deployment
kubectl delete deployment nginx
```

**–°–∫—Ä–∏–ø—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
–¢–∞–∫–∂–µ —Å–æ–∑–¥–∞–π `scripts/validate-k3s-server.sh` —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

---

### –≠—Ç–∞–ø 6: Troubleshooting Guide

**–°–æ–∑–¥–∞–π:** `research/server-node-setup/05-troubleshooting.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
–†–µ—à–µ–Ω–∏—è —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ k3s Server.

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: k3s service –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
```bash
sudo systemctl status k3s
# Failed to start k3s
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –õ–æ–≥–∏ k3s
sudo journalctl -u k3s -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo netstat -tulpn | grep 6443
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç 6443 —Å–≤–æ–±–æ–¥–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å network connectivity
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS —Ä–µ–∑–æ–ª—é—Ü–∏—é
4. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å k3s

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: Node –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ NotReady

**–°–∏–º–ø—Ç–æ–º—ã:**
```bash
kubectl get nodes
# k3s-server-01   NotReady   ...
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
kubectl describe node k3s-server-01
# –°–º–æ—Ç—Ä–µ—Ç—å Events –∏ Conditions
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å flannel pod: `kubectl get pods -A | grep flannel`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å network connectivity –º–µ–∂–¥—É pods
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å k3s: `sudo systemctl restart k3s`

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: kubectl –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
```bash
kubectl get nodes
# The connection to the server localhost:8080 was refused
```

**–†–µ—à–µ–Ω–∏—è:**
```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å KUBECONFIG
export KUBECONFIG=/etc/rancher/k3s/k3s.yaml

# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ ~/.kube/config
```

#### –ü—Ä–æ–±–ª–µ–º–∞ 4: CoreDNS pods –Ω–µ —Å—Ç–∞—Ä—Ç—É—é—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
```bash
kubectl get pods -n kube-system
# coredns   CrashLoopBackOff
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `kubectl logs -n kube-system deployment/coredns`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ DNS 172.17.10.3 –¥–æ—Å—Ç—É–ø–µ–Ω —Å –Ω–æ–¥—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Flannel

#### –ü—Ä–æ–±–ª–µ–º–∞ 5: Traefik –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
```bash
kubectl get pods -n kube-system
# traefik   CrashLoopBackOff
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `kubectl logs -n kube-system deployment/traefik`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç—ã 80/443 —Å–≤–æ–±–æ–¥–Ω—ã –Ω–∞ host
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ServiceLB

#### –ü—Ä–æ–±–ª–µ–º–∞ 6: –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å k3s
sudo systemctl stop k3s

# –£–¥–∞–ª–∏—Ç—å k3s
/usr/local/bin/k3s-uninstall.sh

# –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
sudo rm -rf /var/lib/rancher/k3s/
sudo rm -rf /etc/rancher/k3s/

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–Ω–æ–≤–æ
curl -sfL https://get.k3s.io | sh -s - server [–ø–∞—Ä–∞–º–µ—Ç—Ä—ã]
```

---

### –≠—Ç–∞–ø 7: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ Agent –Ω–æ–¥–∞–º

**–°–æ–∑–¥–∞–π:** `research/server-node-setup/06-prepare-for-agents.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–¥ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º Agent –Ω–æ–¥.

#### 7.1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Server –≥–æ—Ç–æ–≤
```bash
# k3s service —Ä–∞–±–æ—Ç–∞–µ—Ç
sudo systemctl status k3s

# Node –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Ready
kubectl get nodes

# –í—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ pods Running
kubectl get pods -A
```

#### 7.2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å node-token
```bash
# –ü–æ–ª—É—á–∏—Ç—å token
sudo cat /var/lib/rancher/k3s/server/node-token

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ Agent –Ω–æ–¥–∞—Ö
# –ü–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –∫–æ–º–∞–Ω–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Agent
```

#### 7.3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å connectivity
```bash
# API Server –¥–æ—Å—Ç—É–ø–µ–Ω
curl -k https://10.246.10.50:6443/version

# –ü–æ—Ä—Ç 6443 –æ—Ç–∫—Ä—ã—Ç
sudo netstat -tulpn | grep 6443
```

#### 7.4. Firewall rules (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```bash
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã:
# 6443 - Kubernetes API
# 10250 - Kubelet
# 8472 - Flannel VXLAN (–∏–ª–∏ 4789)

# –ï—Å–ª–∏ firewall –≤–∫–ª—é—á–µ–Ω
sudo ufw allow 6443/tcp
sudo ufw allow 10250/tcp
sudo ufw allow 8472/udp
```

#### 7.5. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è Agent –Ω–æ–¥
–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –≠—Ç–∞–ø–∞ 1.2:
```yaml
Server URL: https://10.246.10.50:6443
Node Token: [—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ /var/lib/rancher/k3s/server/node-token]
```

---

## üì¶ –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–∞ –≤—ã—Ö–æ–¥–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã:

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [ ] `research/server-node-setup/01-installation-process.md`
- [ ] `research/server-node-setup/02-clone-vm-for-server.md`
- [ ] `research/server-node-setup/03-get-credentials.md`
- [ ] `research/server-node-setup/04-validate-installation.md`
- [ ] `research/server-node-setup/05-troubleshooting.md`
- [ ] `research/server-node-setup/06-prepare-for-agents.md`

### –°–∫—Ä–∏–ø—Ç—ã:
- [ ] `scripts/install-k3s-server.sh` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s Server
- [ ] `scripts/validate-k3s-server.sh` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

–ó–∞–¥–∞–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –∫–æ–≥–¥–∞:

1. **–í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–æ–∑–¥–∞–Ω—ã** –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
2. **–°–∫—Ä–∏–ø—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ–Ω—è—Ç–Ω—ã** –æ–ø–µ—Ä–∞—Ç–æ—Ä—É

**–í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–ø–µ—Ö–∞ (–≤—ã–ø–æ–ª–Ω–∏—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä):**
- [ ] VM –¥–ª—è Server –Ω–æ–¥—ã –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞ –∏–∑ Template
- [ ] k3s Server —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] `systemctl status k3s` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç active (running)
- [ ] `kubectl get nodes` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 1 –Ω–æ–¥—É –≤ Ready
- [ ] –í—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ pods –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Running
- [ ] kubeconfig –ø–æ–ª—É—á–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] node-token —Å–æ—Ö—Ä–∞–Ω—ë–Ω –¥–ª—è Agent –Ω–æ–¥
- [ ] API Server –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ https://10.246.10.50:6443

---

## üéØ –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º

### –î–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞:

**–®–∞–≥ 1:** –ü—Ä–∏–∫—Ä–µ–ø–∏ –∫ AI-–∞–≥–µ–Ω—Ç—É —Ñ–∞–π–ª—ã:
- `README.md`
- `nsx-configs/segments.md`
- `research/server-node-setup/AI-AGENT-TASK.md` (—ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ)

**–®–∞–≥ 2:** –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ–º–ø—Ç:
```
–ü—Ä–∏–≤–µ—Ç! –¢—ã AI-–∞–≥–µ–Ω—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º k3s –Ω–∞ vSphere.

–Ø –ø—Ä–∏–∫—Ä–µ–ø–∏–ª:
1. README.md ‚Äî –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
2. nsx-configs/segments.md ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏
3. AI-AGENT-TASK.md ‚Äî —Ç–≤–æ—è –∑–∞–¥–∞—á–∞

–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å k3s Server Node.

–ö–æ–Ω—Ç–µ–∫—Å—Ç:
- –≠—Ç–∞–ø 0 (VM Template) –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ ‚úÖ
- VM Template –≥–æ—Ç–æ–≤ –∫ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é
- Cloud-init –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã
- –°–µ–π—á–∞—Å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–≤—É—é k3s –Ω–æ–¥—É (Server)

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- Server IP: 10.246.10.50
- DNS: 172.17.10.3, 8.8.8.8
- Gateway: 10.246.10.1
- Interface: ens192

k3s ‚Äî —ç—Ç–æ –ü–†–û–°–¢–ê–Ø —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π!
curl -sfL https://get.k3s.io | sh -s - server [–ø–∞—Ä–∞–º–µ—Ç—Ä—ã]

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞:
1. –ü—Ä–æ—á–∏—Ç–∞–π AI-AGENT-TASK.md –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –°–æ–∑–¥–∞–≤–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–≠—Ç–∞–ø—ã 1-7)
3. –ü–∏—à–∏ –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç—ã
4. –§–æ–∫—É—Å –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–µ k3s!

–ù–∞—á–Ω—ë–º —Å –≠—Ç–∞–ø–∞ 1: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
–ì–æ—Ç–æ–≤?
```

**–®–∞–≥ 3:** –†–∞–±–æ—Ç–∞–π —Å AI –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ
- AI —Å–æ–∑–¥–∞—ë—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—à—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ü–µ—Ä–µ—Ö–æ–¥–∏—à—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É

**–®–∞–≥ 4:** –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:
1. –ö–ª–æ–Ω–∏—Ä—É–π VM –¥–ª—è Server –Ω–æ–¥—ã –≤ vSphere
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å cloud-init –¥–ª—è IP 10.246.10.50
3. SSH –∫ VM –∏ –≤—ã–ø–æ–ª–Ω–∏ `scripts/install-k3s-server.sh`
4. –í—ã–ø–æ–ª–Ω–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é
5. –°–æ—Ö—Ä–∞–Ω–∏ kubeconfig –∏ node-token

**–®–∞–≥ 5:** –°–æ–æ–±—â–∏ Team Lead –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

---

## ‚è±Ô∏è –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

| –≠—Ç–∞–ø | AI —Å–æ–∑–¥–∞–Ω–∏–µ | –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ | –ò—Ç–æ–≥–æ |
|------|-------------|---------------------|-------|
| –≠—Ç–∞–ø—ã 1-7 (–¥–æ–∫—É–º–µ–Ω—Ç—ã + —Å–∫—Ä–∏–ø—Ç—ã) | 15 –º–∏–Ω | - | 15 –º–∏–Ω |
| –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ VM | - | 3 –º–∏–Ω | 3 –º–∏–Ω |
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s Server | - | 5 –º–∏–Ω | 5 –º–∏–Ω |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | - | 5 –º–∏–Ω | 5 –º–∏–Ω |
| **–ò–¢–û–ì–û** | **15 –º–∏–Ω** | **13 –º–∏–Ω** | **~28 –º–∏–Ω** |

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [k3s Quick Start](https://docs.k3s.io/quick-start)
- [k3s Installation Options](https://docs.k3s.io/installation/configuration)
- [k3s Server Configuration](https://docs.k3s.io/reference/server-config)
- [k3s Networking](https://docs.k3s.io/networking)

**–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:**
- k3s —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–Ω–µ –Ω—É–∂–µ–Ω kubeadm!)
- kubectl —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ symlink
- systemd service —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –æ–¥–Ω–æ–º –±–∏–Ω–∞—Ä–Ω–∏–∫–µ

---

## üéâ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ Team Lead, —É–±–µ–¥–∏—Å—å —á—Ç–æ:

- ‚úÖ –í—Å–µ 6 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ 2 —Å–∫—Ä–∏–ø—Ç–∞ –≥–æ—Ç–æ–≤—ã (install + validate)
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ–Ω—è—Ç–Ω—ã –∏ –¥–µ—Ç–∞–ª—å–Ω—ã
- ‚úÖ Troubleshooting guide –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –û–ø–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å—ë –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

---

**–£–¥–∞—á–∏, AI-–∞–≥–µ–Ω—Ç! –°–æ–∑–¥–∞–≤–∞–π –æ—Ç–ª–∏—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è k3s Server! üöÄ**

**Team Lead –∂–¥—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –≠—Ç–∞–ø—É 1.2 (Agent Nodes).**
