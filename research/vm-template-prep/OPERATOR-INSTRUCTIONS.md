# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞: VM Template Preparation

> **–°—Ç–∞—Ç—É—Å:** üöÄ –ì–æ—Ç–æ–≤–æ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
> **–î–∞—Ç–∞:** 2025-10-24
> **–û—Ç:** Team Lead

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ Team Lead

‚úÖ **–°–æ–∑–¥–∞–Ω–æ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞:**
- –§–∞–π–ª: `research/vm-template-prep/AI-AGENT-TASK.md`
- –ó–∞–¥–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
- –í—Å–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∫–ª—é—á–µ–Ω—ã

---

## üéØ –í–∞—à–∞ –∑–∞–¥–∞—á–∞

–†–∞–±–æ—Ç–∞—Ç—å —Å AI-–∞–≥–µ–Ω—Ç–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **minimal VM Template** –¥–ª—è k3s –∫–ª–∞—Å—Ç–µ—Ä–∞.

### ‚ö†Ô∏è –í–ê–ñ–ù–û:
–≠—Ç–æ –ù–ï –æ–±—ã—á–Ω—ã–π Kubernetes Template!
- ‚ùå –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å kubeadm, kubelet, kubectl
- ‚ùå –ù–ï –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å containerd
- ‚úÖ –¢–æ–ª—å–∫–æ minimal Ubuntu 24.04 + –±–∞–∑–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã

k3s —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∞–º –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π!

---

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —á–∞—Ç —Å AI-–∞–≥–µ–Ω—Ç–æ–º

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π AI (ChatGPT, Claude, Cursor AI, etc.)

### –®–∞–≥ 2: –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Ñ–∞–π–ª—ã

–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –∫ —á–∞—Ç—É —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
1. `README.md` ‚Äî –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
2. `nsx-configs/segments.md` ‚Äî —Å–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
3. `research/vm-template-prep/AI-AGENT-TASK.md` ‚Äî –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è AI

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç

```
–ü—Ä–∏–≤–µ—Ç! –¢—ã AI-–∞–≥–µ–Ω—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º k3s –Ω–∞ vSphere.

–Ø –ø—Ä–∏–∫—Ä–µ–ø–∏–ª:
1. README.md ‚Äî –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
2. nsx-configs/segments.md ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏
3. AI-AGENT-TASK.md ‚Äî —Ç–≤–æ—è –∑–∞–¥–∞—á–∞

–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –°–æ–∑–¥–∞—Ç—å minimal VM Template –¥–ª—è k3s –∫–ª–∞—Å—Ç–µ—Ä–∞.

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –≠—Ç–æ –ù–ï –æ–±—ã—á–Ω—ã–π Kubernetes Template!
k3s ‚Äî —ç—Ç–æ –µ–¥–∏–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
–ù–ï –Ω—É–∂–Ω–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å kubeadm, kubelet, kubectl, containerd!

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- vSphere: 8.0.3
- Network: k8s-zeon-dev-segment (10.246.10.0/24)
- DNS: 172.17.10.3, 8.8.8.8
- Gateway: 10.246.10.1
- SSH: k8s-admin:admin

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞:
1. –ü—Ä–æ—á–∏—Ç–∞–π AI-AGENT-TASK.md –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –°–æ–∑–¥–∞–≤–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–≠—Ç–∞–ø—ã 1-7)
3. –û–±—ä—è—Å–Ω—è–π –∫–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ
4. –ü–∏—à–∏ –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç—ã

–ù–∞—á–Ω—ë–º —Å –≠—Ç–∞–ø–∞ 1: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ VM.
–ì–æ—Ç–æ–≤?
```

### –®–∞–≥ 4: –†–∞–±–æ—Ç–∞–π—Ç–µ —Å AI –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ

**AI —Å–æ–∑–¥–∞—Å—Ç 8 –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:**

1. `research/vm-template-prep/01-vm-requirements.md`
2. `research/vm-template-prep/02-create-vm-in-vsphere.md`
3. `research/vm-template-prep/03-convert-to-template.md`
4. `research/vm-template-prep/04-template-validation.md`
5. `research/vm-template-prep/05-troubleshooting.md`
6. `scripts/prepare-vm-template.sh`
7. `manifests/cloud-init/server-node.yaml`
8. `manifests/cloud-init/agent-node-01.yaml`
9. `manifests/cloud-init/agent-node-02.yaml`

**–í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è:**
- AI —Å–æ–∑–¥–∞—ë—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç ‚Üí –í—ã –∫–æ–ø–∏—Ä—É–µ—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É
- –ó–∞–¥–∞–≤–∞–π—Ç–µ —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã AI –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ

### –®–∞–≥ 5: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ vSphere

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:

1. **–°–æ–∑–¥–∞–π—Ç–µ VM –≤ vSphere** (—Å–ª–µ–¥—É—è `02-create-vm-in-vsphere.md`)
2. **SSH –∫ VM** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `scripts/prepare-vm-template.sh`
3. **–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ VM –≤ Template** (—Å–ª–µ–¥—É—è `03-convert-to-template.md`)
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è** (—Å–ª–µ–¥—É—è `04-template-validation.md`)

### –®–∞–≥ 6: –°–æ–æ–±—â–∏—Ç–µ Team Lead –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–æ–±—â–∏—Ç–µ:
- ‚úÖ –ß—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
- ‚ö†Ô∏è –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤–æ–∑–Ω–∏–∫–ª–∏ (–µ—Å–ª–∏ –±—ã–ª–∏)
- üìã –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∫–æ–≥–¥–∞:

- [x] –í—Å–µ 9 –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [x] VM Template —Å–æ–∑–¥–∞–Ω –≤ vSphere: `k3s-ubuntu2404-minimal-template`
- [x] –¢–µ—Å—Ç–æ–≤–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ
- [x] Cloud-init —Ä–∞–±–æ—Ç–∞–µ—Ç (static IP, hostname, DNS)
- [x] SSH –¥–æ—Å—Ç—É–ø –∫ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π VM —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## ‚è±Ô∏è –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

- AI —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤: **~20 –º–∏–Ω—É—Ç**
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ vSphere: **~25 –º–∏–Ω—É—Ç**
- **–ò—Ç–æ–≥–æ: ~45 –º–∏–Ω—É—Ç**

---

## üÜò –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `05-troubleshooting.md` –æ—Ç AI-–∞–≥–µ–Ω—Ç–∞
2. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å AI-–∞–≥–µ–Ω—Ç—É –≤ —Ç–æ–º –∂–µ —á–∞—Ç–µ
3. –°–≤—è–∂–∏—Ç–µ—Å—å —Å Team Lead

---

## üìä –ß—Ç–æ –¥–∞–ª—å—à–µ

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è VM Template:
- Team Lead —Å–æ–∑–¥–∞—Å—Ç –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è **–≠—Ç–∞–ø–∞ 1: k3s Server Node Setup**
- –í—ã –±—É–¥–µ—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å k3s –Ω–∞ –ø–µ—Ä–≤—É—é –Ω–æ–¥—É
- –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏: ~15 –º–∏–Ω—É—Ç

---

**–£–¥–∞—á–∏! –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–ª–∏—á–Ω—ã–π VM Template! üöÄ**

**Team Lead –∂–¥—ë—Ç –≤–∞—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.**
