# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è VM –≤ Template –¥–ª—è k3s

> **–≠—Ç–∞–ø:** 0 - VM Template Preparation
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û
> **–î–∞—Ç–∞:** 2025-10-24
> **–¶–µ–ª—å:** –ü–æ—à–∞–≥–æ–≤–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ VM –≤ Template

---

## üéØ –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç **–¥–µ—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É** –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–π VM –≤ Template –¥–ª—è k3s –∫–ª–∞—Å—Ç–µ—Ä–∞.

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

- **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ:** VM –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ —Å–∫—Ä–∏–ø—Ç–æ–º `prepare-vm-template.sh`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Template `k3s-ubuntu2404-minimal-template` –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–æ—Å—Ç–æ—è–Ω–∏–µ VM

–ü–µ—Ä–µ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π VM –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:

- ‚úÖ **–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ —Å–∫—Ä–∏–ø—Ç–æ–º** `prepare-vm-template.sh`
- ‚úÖ **–í—ã–∫–ª—é—á–µ–Ω–∞** (–Ω–µ –≤ —Ä–µ–∂–∏–º–µ suspend)
- ‚úÖ **–û—á–∏—â–µ–Ω–∞** –æ—Ç –ª–æ–≥–æ–≤, history, SSH keys
- ‚úÖ **Machine-id —Å–±—Ä–æ—à–µ–Ω**
- ‚úÖ **Cloud-init –Ω–∞—Å—Ç—Ä–æ–µ–Ω**
- ‚úÖ **VMware Tools –∞–∫—Ç–∏–≤–µ–Ω**

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ VM –≤—ã–∫–ª—é—á–µ–Ω–∞
# –í vSphere UI: VM –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ "Powered Off"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω
# –î–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å —Ñ–∞–π–ª: /opt/k3s-setup/template-preparation-report.txt
```

---

## üîß –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

### –®–∞–≥ 1: –§–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ VM

#### 1.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è VM

1. **–û—Ç–∫—Ä–æ–π—Ç–µ vSphere Client**
2. **–ù–∞–π–¥–∏—Ç–µ VM:** `k3s-ubuntu2404-template-vm`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å "Powered Off"
4. **–ï—Å–ª–∏ VM –∑–∞–ø—É—â–µ–Ω–∞:** –í—ã–∫–ª—é—á–∏—Ç–µ –µ—ë (Right-click ‚Üí Power ‚Üí Shutdown Guest OS)

#### 1.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—á—ë—Ç–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏

```bash
# –ï—Å–ª–∏ VM –µ—â—ë –∑–∞–ø—É—â–µ–Ω–∞, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –∫–æ–Ω—Å–æ–ª–∏ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
cat /opt/k3s-setup/template-preparation-report.txt

# –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
# ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ Template
# ‚úÖ Cloud-init –Ω–∞—Å—Ç—Ä–æ–µ–Ω
# ‚úÖ VMware Tools –∞–∫—Ç–∏–≤–µ–Ω
# ‚úÖ SSH –¥–æ—Å—Ç—É–ø–µ–Ω
# ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ—á–∏—â–µ–Ω–∞
# ‚úÖ –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
```

### –®–∞–≥ 2: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –æ—á–∏—Å—Ç–∫—É:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –∫–æ–Ω—Å–æ–ª–∏ VM
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –æ—á–∏—Å—Ç–∫–∏:

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è)
rm -rf ~/.cache/*

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
sudo rm -rf /tmp/*
sudo rm -rf /var/tmp/*

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
sudo find /var/log -name "*.log" -exec truncate -s 0 {} \;

# –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥
history -c
rm -f ~/.bash_history

# –û—á–∏—Å—Ç–∫–∞ cloud-init –¥–∞–Ω–Ω—ã—Ö
sudo cloud-init clean --logs

# –í—ã–∫–ª—é—á–µ–Ω–∏–µ VM
sudo shutdown -h now
```

### –®–∞–≥ 3: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ Template

#### 3.1 –ó–∞–ø—É—Å–∫ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

1. **–í—ã–±–µ—Ä–∏—Ç–µ VM:** `k3s-ubuntu2404-template-vm`
2. **–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫** ‚Üí **Template** ‚Üí **Convert to Template**
3. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ:** "Yes" –≤ –¥–∏–∞–ª–æ–≥–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

#### 3.2 –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- **–í—Ä–µ–º—è:** 1-3 –º–∏–Ω—É—Ç—ã
- **–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–∑–¥–µ–ª–µ "Recent Tasks" –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** VM –∏—Å—á–µ–∑–Ω–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞, –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ Templates

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ Template

#### 4.1 –ü–æ–∏—Å–∫ Template

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª:** "VMs and Templates"
2. **–ù–∞–π–¥–∏—Ç–µ Template:** `k3s-ubuntu2404-template-vm`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:** –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ Templates

#### 4.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–π—Å—Ç–≤ Template

1. **–í—ã–±–µ—Ä–∏—Ç–µ Template**
2. **–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫** ‚Üí **Edit Settings**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - **vCPU:** 2
   - **RAM:** 4 GB
   - **Disk:** 40 GB
   - **Network:** k8s-zeon-dev-segment
   - **CD/DVD:** –û—Ç–∫–ª—é—á–µ–Ω (ISO —É–¥–∞–ª—ë–Ω)

---

## ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è Template

### –®–∞–≥ 5: –¢–µ—Å—Ç–æ–≤–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 5.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π VM

1. **–í—ã–±–µ—Ä–∏—Ç–µ Template:** `k3s-ubuntu2404-template-vm`
2. **–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫** ‚Üí **Clone** ‚Üí **Clone to Virtual Machine**
3. **Name:** `k3s-test-vm`
4. **Folder:** –û—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
5. **–ù–∞–∂–º–∏—Ç–µ:** "Next"

#### 5.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π VM

1. **Host/Cluster:** –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ç –∂–µ —Ö–æ—Å—Ç/–∫–ª–∞—Å—Ç–µ—Ä
2. **Datastore:** –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ç –∂–µ datastore
3. **–ù–∞–∂–º–∏—Ç–µ:** "Next"

#### 5.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Clone Options:** "Customize the operating system"
2. **–ù–∞–∂–º–∏—Ç–µ:** "Next"

#### 5.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cloud-init

1. **Customization Spec:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
2. **Name:** `k3s-test-customization`
3. **–ù–∞–∂–º–∏—Ç–µ:** "Next"

#### 5.5 –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
2. **–ù–∞–∂–º–∏—Ç–µ:** "Finish"
3. **–î–æ–∂–¥–∏—Ç–µ—Å—å** –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π VM

#### 6.1 –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–π VM

1. **–í—ã–±–µ—Ä–∏—Ç–µ VM:** `k3s-test-vm`
2. **–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫** ‚Üí **Power On**
3. **–î–æ–∂–¥–∏—Ç–µ—Å—å** –∑–∞–≥—Ä—É–∑–∫–∏

#### 6.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ cloud-init

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –∫–æ–Ω—Å–æ–ª–∏ —Ç–µ—Å—Ç–æ–≤–æ–π VM
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ cloud-init –æ—Ç—Ä–∞–±–æ—Ç–∞–ª:

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ cloud-init
cloud-init status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ cloud-init
cat /var/log/cloud-init.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
ip addr show ens192

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
ip route

# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
cat /etc/resolv.conf

# –ü—Ä–æ–≤–µ—Ä–∫–∞ hostname
hostname
cat /etc/hostname
```

#### 6.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
ping -c 3 8.8.8.8

# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
nslookup google.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH
sudo systemctl status ssh
```

### –®–∞–≥ 7: –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π VM

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–í—ã–∫–ª—é—á–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é VM**
2. **–£–¥–∞–ª–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é VM** (Right-click ‚Üí Delete)
3. **–£–¥–∞–ª–∏—Ç–µ customization spec** (–µ—Å–ª–∏ —Å–æ–∑–¥–∞–≤–∞–ª–∏)

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –£—Å–ø–µ—à–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —É –≤–∞—Å –±—É–¥–µ—Ç:

- ‚úÖ **Template:** `k3s-ubuntu2404-template-vm`
- ‚úÖ **–ì–æ—Ç–æ–≤ –∫ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è k3s –Ω–æ–¥
- ‚úÖ **Cloud-init –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞** –±–µ–∑ K8s –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ **VMware Tools –∞–∫—Ç–∏–≤–µ–Ω**

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è Template** (–≠—Ç–∞–ø 6)
2. **–°–æ–∑–¥–∞–Ω–∏–µ k3s Server –Ω–æ–¥—ã** –∏–∑ Template
3. **–°–æ–∑–¥–∞–Ω–∏–µ k3s Agent –Ω–æ–¥** –∏–∑ Template
4. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ k3s** –Ω–∞ –Ω–æ–¥—ã

---

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: VM –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ Template

**–ü—Ä–∏—á–∏–Ω—ã:**
- VM –∑–∞–ø—É—â–µ–Ω–∞
- VM –≤ —Ä–µ–∂–∏–º–µ suspend
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤

**–†–µ—à–µ–Ω–∏–µ:**
1. –í—ã–∫–ª—é—á–∏—Ç–µ VM
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

### –ü—Ä–æ–±–ª–µ–º–∞: Template –Ω–µ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**
- Template –ø–æ–≤—Ä–µ–∂–¥—ë–Ω
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ datastore
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Template
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: Cloud-init –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π VM

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ cloud-init
- –ü—Ä–æ–±–ª–µ–º—ã —Å VMware Tools
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è customization spec

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ cloud-init
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VMware Tools
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é customization spec

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ü–µ—Ä–µ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π

- [ ] VM –≤—ã–∫–ª—é—á–µ–Ω–∞
- [ ] –°–∫—Ä–∏–ø—Ç `prepare-vm-template.sh` –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] –û—Ç—á—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–æ–∑–¥–∞–Ω
- [ ] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

- [ ] Template —Å–æ–∑–¥–∞–Ω: `k3s-ubuntu2404-template-vm`
- [ ] Template –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ Templates
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Template –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] –¢–µ—Å—Ç–æ–≤–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
- [ ] Cloud-init —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π VM
- [ ] –°–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] SSH –¥–æ—Å—Ç—É–ø–µ–Ω

---

## üéâ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

Template —Å—á–∏—Ç–∞–µ—Ç—Å—è –≥–æ—Ç–æ–≤—ã–º –∫–æ–≥–¥–∞:

1. **Template —Å–æ–∑–¥–∞–Ω** –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ Templates
2. **–¢–µ—Å—Ç–æ–≤–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ
3. **Cloud-init –æ—Ç—Ä–∞–±–æ—Ç–∞–ª** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–°–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP, DNS, –º–∞—Ä—à—Ä—É—Ç—ã)
5. **SSH –¥–æ—Å—Ç—É–ø–µ–Ω** (k8s-admin:admin)
6. **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω**
7. **VMware Tools –∞–∫—Ç–∏–≤–µ–Ω**

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-10-24
**AI-–∞–≥–µ–Ω—Ç:** VM Template Specialist
**–¶–µ–ª—å:** –ì–æ—Ç–æ–≤—ã–π Template –¥–ª—è k3s –∫–ª–∞—Å—Ç–µ—Ä–∞
